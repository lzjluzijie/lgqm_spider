# v 0.0.1 版本开发需求

## 0 版本目标

lpr v 0.1 版本需要达到以下目标

- 自动爬取shibor和lpr数据
  - 时间要求：1分钟；
  - 数据存放：
    - 存为 cvs 数据文件
    - 存入 阿里mysql 数据库
- END



## 1 数据来源



### 











### URL分析

### LPR月数据

- 可选择下载excel与txt格式，建议下载excel格式；
- LPR在2019.8.20之前是每个交易日都有数据，从2013年开始
- LPR在2019.8.20之后每月20日有新数据

``` html
http://www.shibor.org/shibor/web/html/downLoad.html?nameNew=Historical_LPR_Data_2019_7.xls&nameOld=LPR数据2019_7.xls&shiborSrc=http%3A%2F%2Fwww.shibor.org%2Fshibor%2F&downLoadPath=data
```


其中：
- nameNew 参数是要下载数据的文件名：Historical_LPR_Data_2019_7.xls
- nameOld 参数是下载时候要生成的文件名
- 

### Shibor 月度数据

http://www.shibor.org/shibor/web/html/downLoad.html?nameNew=Historical_Shibor_Data_2019_8.xls&nameOld=Shibor%CA%FD%BE%DD2019_8.xls&shiborSrc=http%3A%2F%2Fwww.shibor.org%2Fshibor%2F&downLoadPath=data


年度数据：

http://www.shibor.org/shibor/web/html/downLoad.html?nameNew=Historical_Shibor_Data_2011.xls&nameOld=Shibor%CA%FD%BE%DD2011.xls&shiborSrc=http%3A%2F%2Fwww.shibor.org%2Fshibor%2F&downLoadPath=data

User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36

### Shibor报价数据

http://www.shibor.org/shibor/web/html/downLoad.html?nameNew=Historical_Quote_Data_2019_8.xls&nameOld=%B1%A8%BC%DB%CA%FD%BE%DD2019_8.xls&shiborSrc=http%3A%2F%2Fwww.shibor.org%2Fshibor%2F&downLoadPath=data


http://www.shibor.org/shibor/web/html/downLoad.html?nameNew=Historical_Quote_Data_2016.xls&nameOld=%B1%A8%BC%DB%CA%FD%BE%DD2016.xls&shiborSrc=http%3A%2F%2Fwww.shibor.org%2Fshibor%2F&downLoadPath=data

### Shibor均值下载

http://www.shibor.org/shibor/web/html/downLoad.html?nameNew=Historical_Shibor_Tendency_Data_2019_8.xls&nameOld=Shibor%BE%F9%D6%B5%CA%FD%BE%DD2019_8.xls&shiborSrc=http%3A%2F%2Fwww.shibor.org%2Fshibor%2F&downLoadPath=data

http://www.shibor.org/shibor/web/html/downLoad.html?nameNew=Historical_Shibor_Tendency_Data_2010.xls&nameOld=Shibor%BE%F9%D6%B5%CA%FD%BE%DD2010.xls&shiborSrc=http%3A%2F%2Fwww.shibor.org%2Fshibor%2F&downLoadPath=data



## 2 输出需求

根据爬取数据，则输出数据有以下几类：

- shibor 价格
- shibor 报价
- shibor 均值
- lpr 价格

数据存放格式，本项目使用 csv 和 阿里mysql 两个数据库。

**csv格式，具体规定为：**

- 编码：utf-8
- 分割符：,
- 表头采用字段名（英文）
- 没有index列



### shibor 价格





### shibor 报价





### shibor 均值



### shibor 报价

### LPR 价格

数据结构如下：

```mssql
create table lpr
(
    trade_date  varchar(10)     not null COMMENT '爬取时间' ,
    lrp_1y      decimal(10,6)   COMMENT '一年期利率' ,
    lrp_5y      decimal(10,6)   COMMENT '五年期利率' ,

    PRIMARY KEY (`trade_date`)
)
```

## 3 Pyhton api 约定

### 命令行接口

python spider.py lpr_run



### 代码API接口







## 4 参数配置

### 数据配置



### 日志配置















